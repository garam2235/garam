<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>가람 주식회사 - 펌프 설치 · 유지보수 전문기업</title>

  <!-- SEO -->
  <meta name="description" content="가람 주식회사는 효성펌프, 윌로펌프 등 산업·소방·급배수용 펌프 납품, 시공, 유지보수를 전문으로 하는 펌프 전문 기업입니다.">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/garam_logo.png" />

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>

<!-- 테스트 이미지 (의도적으로 3px 유지) -->
<img src="assets/main.jpg" style="width:3px; border:3px solid red;">

<header>
  <img src="assets/garam_logo.png" alt="가람 주식회사 로고" class="logo">

  <button class="menu-toggle" type="button" aria-label="메뉴 열기">☰</button>

  <nav aria-label="주요 메뉴">
    <a href="#about">회사소개</a>
    <a href="#products">제품소개</a>
    <a href="#result">주요실적</a>
    <a href="#skill">기술항목</a>   
    <a href="#request">견적의뢰</a>
    <a href="#library">시공사례</a>
    <a href="#contact">연락처</a>
  </nav>
</header>

<section class="hero">
  <h1>윤리경영을 바탕으로 정직과 신뢰를 실천하는 펌프 설치 · 유지보수 전문기업</h1>
  <p class="slogan">Ethics · Safety · Trust</p>
  <p>효성펌프 및 국내외 KS인증 펌프 납품 · 시공 · 유지보수 전문</p>
</section>

<!-- 🔧 펌프 제품군 자동 슬라이드 배너 -->
<section class="pump-banner">
  <div class="pump-track">
    <div class="pump-list">
      <a href="#library">급수펌프</a>
      <a href="#library">다단펌프</a>
      <a href="#library">인라인펌프</a>
      <a href="#library">수중펌프</a>
      <a href="#library">터빈펌프</a>
      <a href="#library">웨스코펌프</a>
      <a href="#library">양흡입펌프</a>
      <a href="#library">냉각탑</a>

      <!-- 끊김 방지 복제 -->
      <a href="#library">급수펌프</a>
      <a href="#library">다단펌프</a>
      <a href="#library">인라인펌프</a>
      <a href="#library">수중펌프</a>
      <a href="#library">터빈펌프</a>
      <a href="#library">웨스코펌프</a>
      <a href="#library">양흡입펌프</a>
      <a href="#library">냉각탑</a>
    </div>
  </div>
</section>

<section id="about">
  <h2>회사소개</h2>
  <p>
  가람(GARAM) 주식회사는 효성펌프와 윌로펌프를 비롯한 다양한 국산 및 외산 펌프를
  납품·시공·유지보수하는 펌프 설치 및 유지보수 전문기업입니다.<br>
  다년간 축적된 현장 경험과 기술력을 바탕으로 고객의 산업 환경에 최적화된 솔루션을 제공합니다.
  </p>
</section>

<section id="products">
  <h2>제품소개</h2>
  <div class="products">
    <div class="card">
      <h3>효성펌프</h3>
      <p>산업용, 소방용, 급·배수용 다양한 모델 공급</p>
    </div>
    <div class="card">
      <h3>윌로펌프</h3>
      <p>산업용, 소방용, 급·배수용 다양한 모델 공급</p>
    </div>
    <div class="card">
      <h3>그 외 국산 펌프</h3>
      <p>성능과 내구성이 검증된 주요 브랜드 취급</p>
    </div>
    <div class="card">
      <h3>외산 펌프</h3>
      <p>Grundfos, KSB 등 글로벌 브랜드 연계</p>
    </div>
  </div>
</section>

<section id="result">
  <h2>주요실적</h2>
  <div class="result">
    <div class="card">
      <h3>관공서 및 국가기관</h3>
      <p>학교, 김포공항, LH공사, SH공사, KIST, IAE 등</p>
    </div>
    <div class="card">
      <h3>주요 호스피탤리티 시설</h3>
      <p>L백화점, A프라자, 그랜드H호텔, S호텔, H리조트 등</p>
    </div>
    <div class="card">
      <h3>아파트 및 오피스텔</h3>
      <p>다수 공동주택 및 업무시설 시공 실적</p>
    </div>
  </div>
</section>

<section id="skill">
  <h2>기술항목</h2>
  <div class="skill">
    <div class="card">
      <h3>펌프</h3>
      <p>베어링 · 샤프트 등</p>
    </div>
    <div class="card">
      <h3>모터</h3>
      <p>휀 · 베어링 · 샤프트 · 플리 등</p>
    </div>
    <div class="card">
      <h3>그 외</h3>
      <p>각종 펌프 관련 주문제작 및 특수 시공</p>
    </div>
  </div>
</section>

<section id="request">
  <h2>견적의뢰</h2>

  <form id="quoteForm" class="quote-form"
        action="https://formspree.io/f/xyzrqapg"
        method="POST">
    <input type="hidden" name="_subject" value="가람 주식회사 견적 문의">

    <input type="text" name="company" placeholder="업체명 / 고객명" required>
    <input type="text" name="location" placeholder="현장지역" required>
    <input type="tel" name="phone" placeholder="연락처" required>
    <input type="email" name="email" placeholder="이메일" required>

    <select name="type" required>
      <option value="" disabled selected>문의 종류 선택</option>
      <option value="펌프">펌프</option>
      <option value="모터">모터</option>
      <option value="기타">그 외</option>
    </select>

    <textarea name="message" rows="5" placeholder="요청 사항을 입력해주세요"></textarea>
    <button type="submit">견적 요청하기</button>
  </form>

  <p id="formStatus" class="form-status" style="display:none;"></p>
</section>

<section id="library">
  <h2>시공사례</h2>

  <div class="library-filter">
  <button class="active" data-filter="all">전체</button>
  <button data-filter="install">신규설치</button>
  <button data-filter="change">교체</button>
  <button data-filter="check">기타</button>
</div>


  <div class="library-slider">
    <button class="slide-btn prev">‹</button>

    <div class="library-viewport">
        <div class="library-gallery" id="libraryGallery">
  <!-- JS로 자동 생성 -->
</div>

    </div>

    <button class="slide-btn next">›</button>
  </div>
</section>
<!-- 라이트박스 -->
<div class="lightbox" id="lightbox">
  <img src="" alt="">
</div>

<section id="contact">
  <h2>가람주식회사</h2>
  <p>🧾 사업자등록번호 : 475-88-02990</p>
  <p>🏢 대표자 : 김 주 영</p>
  <p>📍 경기도 고양시 일산서구 송포로 391번길 61 라동</p>
  <p>☎ 031-911-2235 | 📠 031-911-2237</p>
  <p>✉ garam1265@nate.com</p>
  <p>🌐 www.garam1265.co.kr</p>
</section>

<footer>
  <p>© 가람 주식회사 All Rights Reserved.</p>
</footer>

<!-- JS -->
<script>
/* 모바일 메뉴 */
  const menuBtn = document.querySelector('.menu-toggle');
  const nav = document.querySelector('header nav');

  menuBtn.addEventListener('click', () => {
    nav.classList.toggle('active');
  });
</script>

<script>
/* ===============================
   시공사례 슬라이더 (무한루프 안정판)
   =============================== */

const gallery = document.getElementById('libraryGallery');
const filterButtons = document.querySelectorAll('.library-filter button');
const prevBtn = document.querySelector('.slide-btn.prev');
const nextBtn = document.querySelector('.slide-btn.next');
const slider = document.querySelector('.library-slider');

const lightbox = document.getElementById('lightbox');
const lightboxImg = lightbox.querySelector('img');

let items = [];
let index = 0;
let itemWidth = 0;
let autoSlide;

/* ▶ 이미지 데이터 */
const libraryImages = [
  { file: 'install_1.jpg', type: 'install', title: '사진준비중' },
  { file: 'change_1.jpg', type: 'change', title: '냉각탑 오버홀' },
  { file: 'change_2.jpg', type: 'change', title: '배기휀 베어링 교체' },
  { file: 'change_3.jpg', type: 'change', title: '순환펌프 교체' },
  { file: 'change_4.jpg', type: 'change', title: '양흡입펌프' },
  { file: 'check_1.jpg', type: 'check', title: '사진준비중' }
];

/* ▶ 이미지 생성 */
libraryImages.forEach(img => {
  const item = document.createElement('div');
  item.className = `item ${img.type}`;
  item.innerHTML = `
    <img src="files/library/${img.file}" alt="가람 주식회사 ${img.title}">
    <p>${img.title}</p>
  `;
  item.onclick = () => {
    lightboxImg.src = item.querySelector('img').src;
    lightbox.style.display = 'flex';
  };
  gallery.appendChild(item);
});

/* ▶ 기본 계산 */
function updateItemWidth() {
  const item = gallery.querySelector('.item');
  if (!item) return;
  const style = getComputedStyle(gallery);
  const gap = parseInt(style.gap || style.columnGap) || 20;
  itemWidth = item.offsetWidth + gap;
}

function getVisibleCount() {
  if (document.querySelector('.library-filter .active')?.dataset.filter === 'change') {
    return 1;
  }
  return Math.floor(
    document.querySelector('.library-viewport').offsetWidth / itemWidth
  );
}

function canSlide() {
  return items.length > 1;
}

/* ▶ 무한루프용 복제 */
function cloneItems() {
  if (!canSlide()) return;
  const visible = getVisibleCount();
  items.slice(0, visible).forEach(item => {
    const clone = item.cloneNode(true);
    clone.classList.add('clone');
    gallery.appendChild(clone);
  });
}

/* ▶ 슬라이드 이동 */
function moveSlide() {
  gallery.style.transform = `translateX(-${index * itemWidth}px)`;
}

/* ▶ 다음 */
function nextSlide() {
  if (!canSlide()) return;

  index++;
  gallery.style.transition =
    'transform 1s cubic-bezier(0.25, 0.8, 0.25, 1)';
  moveSlide();

  const maxIndex = items.length;

  if (index >= maxIndex) {
    setTimeout(() => {
      gallery.style.transition = 'none';
      index = 0;
      moveSlide();
    }, 1000);
  }
}

/* ▶ 이전 */
function prevSlide() {
  if (!canSlide()) return;

  if (index <= 0) {
    gallery.style.transition = 'none';
    index = items.length - getVisibleCount();
    moveSlide();

    requestAnimationFrame(() => {
      gallery.style.transition =
        'transform 1s cubic-bezier(0.25, 0.8, 0.25, 1)';
      index--;
      moveSlide();
    });
  } else {
    index--;
    gallery.style.transition =
      'transform 1s cubic-bezier(0.25, 0.8, 0.25, 1)';
    moveSlide();
  }
}

/* ▶ 자동 슬라이드 */
function startAutoSlide() {
  stopAutoSlide();
  if (!canSlide()) return;
  autoSlide = setInterval(nextSlide, 5500);
}

function stopAutoSlide() {
  clearInterval(autoSlide);
}

/* ▶ 버튼 */
nextBtn.onclick = () => {
  stopAutoSlide();
  nextSlide();
  startAutoSlide();
};

prevBtn.onclick = () => {
  stopAutoSlide();
  prevSlide();
  startAutoSlide();
};

slider.onmouseenter = stopAutoSlide;
slider.onmouseleave = startAutoSlide;

/* ▶ 필터 */
filterButtons.forEach(btn => {
  btn.onclick = () => {
    filterButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');

    const filter = btn.dataset.filter;

    gallery.querySelectorAll('.clone').forEach(c => c.remove());

    gallery.querySelectorAll('.item:not(.clone)').forEach(item => {
      item.style.display =
        filter === 'all' || item.classList.contains(filter)
          ? 'flex'
          : 'none';
    });

    items = Array.from(
      gallery.querySelectorAll('.item:not(.clone)')
    ).filter(item => item.style.display !== 'none');

    index = 0;
    gallery.style.transition = 'none';
    gallery.style.transform = 'translateX(0)';

    updateItemWidth();
    cloneItems();
    startAutoSlide();
  };
});

/* ▶ 라이트박스 */
lightbox.onclick = () => {
  lightbox.style.display = 'none';
};

/* ▶ 초기 실행 */
items = Array.from(gallery.querySelectorAll('.item'));
updateItemWidth();
cloneItems();
startAutoSlide();

window.addEventListener('resize', () => {
  updateItemWidth();
});
</script>


<script>
/* 견적문의 */
  const form = document.getElementById('quoteForm');
  const status = document.getElementById('formStatus');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const formData = new FormData(form);

    try {
      const res = await fetch(form.action, {
        method: form.method,
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (res.ok) {
        form.reset();
        status.style.display = 'block';
        status.style.color = '#0a7f2e';
        status.textContent = '견적 문의가 정상적으로 접수되었습니다.';
      } else {
        throw new Error();
      }
    } catch {
      status.style.display = 'block';
      status.style.color = '#c62828';
      status.textContent = '전송 중 오류가 발생했습니다.';
    }
  });
</script>

</body>
</html>
